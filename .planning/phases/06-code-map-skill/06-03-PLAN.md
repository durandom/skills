---
phase: 06-code-map-skill
plan: 03
type: execute
---

<objective>
Create explore workflow for codebase navigation.

Purpose: Enable agents to understand a codebase by reading the map.
Output: workflows/explore.md that guides systematic map navigation.
</objective>

<execution_context>
@.claude/skills/create-plans/workflows/execute-phase.md
@.claude/skills/create-plans/templates/summary.md
</execution_context>

<context>
@.planning/phases/06-code-map-skill/BRIEF.md
@.planning/phases/06-code-map-skill/06-02-SUMMARY.md
@.claude/skills/code-map/SKILL.md
@.claude/skills/code-map/references/format-spec.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create explore workflow</name>
  <files>.claude/skills/code-map/workflows/explore.md</files>
  <action>
Create workflow that guides agent through map exploration:

1. **objective** section:
   - Explore codebase structure via the map
   - Build mental model for task execution

2. **required_reading** section:
   - @.claude/skills/code-map/references/format-spec.md
   - (loaded automatically when workflow invoked)

3. **process** section with numbered steps:

   Step 1: Check for map

   ```bash
   ls docs/map/MAP.md 2>/dev/null || echo "NO_MAP"
   ```

   If NO_MAP: inform user, offer to create one

   Step 2: Read entry point
   - Read docs/map/MAP.md
   - Note domains index
   - Understand codebase statistics

   Step 3: Read architecture (L0)
   - Read docs/map/ARCHITECTURE.md
   - Note technology stack
   - Understand high-level structure

   Step 4: Identify relevant domains
   - Based on user's task, identify which L1 domains matter
   - Read only relevant domain docs
   - Use: `grep -A 50 "\[L1:domain-name\]" docs/map/domains/`

   Step 5: Report exploration findings
   - Summarize codebase understanding
   - Note relevant entry points for task
   - Ask clarifying questions if needed

4. **success_criteria** section:
   - Agent can describe codebase purpose
   - Agent knows which files are relevant
   - Agent has identified entry points for task
  </action>

  <verify>grep -c "Step" .claude/skills/code-map/workflows/explore.md shows step count</verify>
  <done>Complete workflow with all steps and criteria</done>
</task>

<task type="auto">
  <name>Task 2: Create test map for fvtt2obsidian</name>
  <files>docs/map/MAP.md, docs/map/ARCHITECTURE.md, docs/map/domains/conversion.md</files>
  <action>
Create minimal map for this repo to test explore workflow:

1. **docs/map/MAP.md**:
   - Quick start for agents
   - Format spec brief
   - Domains: conversion, cli, translation
   - Stats: ~9500 lines Python

2. **docs/map/ARCHITECTURE.md**:
   - Heading: `# [L0:architecture] fvtt2obsidian`
   - Tech stack: Python, Click, Pydantic, Jinja2
   - ASCII diagram of conversion pipeline
   - Domain links: `[Conversion](domains/conversion.md)`

3. **docs/map/domains/conversion.md**:
   - Heading: `# [L1:conversion] Conversion Domain`
   - Entry points with code links: `` [`convert_pack`](../../src/fvtt2obsidian/converter.py#L42) ``
   - Key files table

Use the templates from Plan 02. Fill all FILL markers.
This is a real, working map for testing.
  </action>
  <verify>ls docs/map/ shows MAP.md, ARCHITECTURE.md, domains/</verify>
  <done>Working map for fvtt2obsidian repo</done>
</task>

<task type="auto">
  <name>Task 3: Test explore workflow manually</name>
  <files>None (testing only)</files>
  <action>
Manually execute the explore workflow steps:

1. Run step 1: `ls docs/map/MAP.md`
2. Read MAP.md and note structure
3. Read ARCHITECTURE.md
4. Read domains/conversion.md
5. Summarize findings

Document any issues with the workflow or map format.
Note improvements for future iterations.
  </action>
  <verify>Echo summary of explore test results</verify>
  <done>Explore workflow tested, issues documented</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Explore workflow exists and follows format
- [ ] Test map exists with all three levels
- [ ] Manual explore test completed
- [ ] Any issues documented for future
</verification>

<success_criteria>

- All tasks completed
- Explore workflow is usable
- Test map demonstrates the format
- Ready for Plan 04 (create workflow + validation)
</success_criteria>

<output>
After completion, create `.planning/phases/06-code-map-skill/06-03-SUMMARY.md`
</output>
